/* ===== Mod Menu UI (modern translucent sapphire theme) ===== */

/* Root */
#sapphire-root {
  position: fixed;
  top: 90px;
  left: 90px;
  z-index: 999999;
  font-family: 'Segoe UI', ui-sans-serif, Arial, sans-serif;
  color: #e7edfa;
  user-select: none;
}

/* Window uses fixed so dragging is not affected by canvas scaling */
.sapphire-window {
  /* Solid fallback behind the glass gradient so it never goes fully clear */
  background-color: rgba(16, 23, 44, 0.62);
  background-image: linear-gradient(
    165deg,
    rgba(16, 23, 44, 0.62) 0%,
    rgba(24, 32, 64, 0.62) 60%,
    rgba(30, 42, 84, 0.62) 100%
  ) !important;
  opacity: 1 !important;
  border: 1px solid rgba(74, 106, 170, 0.35);
  backdrop-filter: blur(14px) saturate(1.2);
  -webkit-backdrop-filter: blur(14px) saturate(1.2);
}

/* If any script adds these, keep them from nuking the background */
.sapphire-window.transparent,
.sapphire-window.glass-none {
  background-color: rgba(16, 23, 44, 0.62) !important;
  background-image: linear-gradient(
    165deg,
    rgba(16, 23, 44, 0.62) 0%,
    rgba(24, 32, 64, 0.62) 60%,
    rgba(30, 42, 84, 0.62) 100%
  ) !important;
  opacity: 1 !important;
}

/* Header (draggable) */
.sapphire-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 44px;
  padding: 10px 14px;
  cursor: move;
  user-select: none;

  background: linear-gradient(
      180deg,
      rgba(38, 56, 112, 0.28) 0%,
      rgba(26, 38, 84, 0.22) 100%
  );
  border-bottom: 1px solid rgba(74, 106, 170, 0.32);
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.03) inset;
}

.sapphire-title {
  font-weight: 800;
  font-size: 17px;
  letter-spacing: 0.6px;
  color: #8fc0ff;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.35);
}

/* Controls row (header buttons etc.) */
.sapphire-controls {
  display: flex;
  gap: 7px;
  align-items: center;
}

/* Button base */
.sapphire-btn {
  appearance: none;
  background: linear-gradient(
      180deg,
      rgba(38, 56, 112, 0.35) 0%,
      rgba(30, 46, 96, 0.32) 100%
  );
  border: 1px solid rgba(94, 132, 200, 0.35);
  color: #b9d7ff;
  padding: 7px 12px;
  border-radius: 8px;
  font-size: 13px;
  line-height: 1;
  cursor: pointer;
  transition: transform 120ms ease, background 160ms ease, border-color 160ms ease, color 160ms ease, box-shadow 160ms ease;
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.04) inset,
    0 4px 14px rgba(0, 24, 64, 0.28);
}

.sapphire-btn:hover {
  background: linear-gradient(
      180deg,
      rgba(64, 104, 184, 0.42) 0%,
      rgba(40, 70, 144, 0.38) 100%
  );
  border-color: rgba(122, 166, 230, 0.6);
  color: #d8e9ff;
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.05) inset,
    0 6px 18px rgba(8, 52, 128, 0.34);
}

.sapphire-btn:active {
  transform: translateY(1px);
  background: linear-gradient(
      180deg,
      rgba(38, 70, 160, 0.46) 0%,
      rgba(26, 54, 130, 0.42) 100%
  );
  border-color: rgba(140, 180, 240, 0.75);
}

/* Ghost/secondary buttons */
.sapphire-btn--ghost {
  background: rgba(22, 30, 60, 0.3);
  border-color: rgba(88, 120, 190, 0.28);
  color: #9fc8ff;
}
.sapphire-btn--ghost:hover {
  background: rgba(44, 62, 124, 0.36);
  border-color: rgba(124, 158, 220, 0.5);
  color: #d6e7ff;
}

/* Sections / body content */
.sapphire-body {
  padding: 12px 14px;
  display: grid;
  gap: 10px;
  background: linear-gradient(
      180deg,
      rgba(10, 16, 34, 0.12) 0%,
      rgba(10, 16, 34, 0.02) 100%
  );
}

.sapphire-section {
  padding: 10px;
  border-radius: 10px;
  background: linear-gradient(
      180deg,
      rgba(20, 30, 60, 0.36) 0%,
      rgba(18, 26, 52, 0.3) 100%
  );
  border: 1px solid rgba(74, 106, 170, 0.28);
}

.sapphire-section + .sapphire-section {
  margin-top: 4px;
}

/* Rows / controls */
.sapphire-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 8px;
  transition: background 120ms ease, border-color 120ms ease;
}

.sapphire-row:hover {
  background: rgba(56, 84, 160, 0.14);
}

.sapphire-label {
  font-size: 13px;
  color: #d5e4ff;
  opacity: 0.95;
}

/* Toggle switch */
.sapphire-toggle {
  position: relative;
  width: 42px;
  height: 24px;
  border-radius: 24px;
  background: rgba(40, 60, 120, 0.36);
  border: 1px solid rgba(94, 132, 200, 0.35);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.25);
  transition: background 160ms ease, border-color 160ms ease;
}
.sapphire-toggle::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 3px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: linear-gradient(180deg, #e8f1ff 0%, #c7dfff 100%);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
  transition: transform 160ms ease;
}
.sapphire-toggle.is-on {
  background: linear-gradient(180deg, rgba(56, 120, 255, 0.6) 0%, rgba(32, 92, 220, 0.6) 100%);
  border-color: rgba(132, 176, 255, 0.8);
}
.sapphire-toggle.is-on::after {
  transform: translateX(18px);
}

/* Slider */
.sapphire-slider {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 6px;
  background: rgba(40, 60, 120, 0.36);
  outline: none;
  border: 1px solid rgba(94, 132, 200, 0.3);
}
.sapphire-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: linear-gradient(180deg, #e8f1ff 0%, #c7dfff 100%);
  border: 1px solid rgba(74, 106, 170, 0.4);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
  cursor: pointer;
}
.sapphire-slider::-moz-range-thumb {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: linear-gradient(180deg, #e8f1ff 0%, #c7dfff 100%);
  border: 1px solid rgba(74, 106, 170, 0.4);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
  cursor: pointer;
}

/* Inputs */
.sapphire-input,
.sapphire-select {
  width: 100%;
  padding: 8px 10px;
  border-radius: 8px;
  background: rgba(18, 26, 52, 0.42);
  border: 1px solid rgba(74, 106, 170, 0.32);
  color: #d9e7ff;
  font-size: 13px;
  outline: none;
  transition: border-color 140ms ease, box-shadow 140ms ease, background 140ms ease;
}
.sapphire-input::placeholder {
  color: rgba(217, 231, 255, 0.6);
}
.sapphire-input:focus,
.sapphire-select:focus {
  border-color: rgba(132, 176, 255, 0.75);
  box-shadow: 0 0 0 3px rgba(64, 120, 255, 0.18);
  background: rgba(22, 34, 72, 0.55);
}

/* Footer / status bar */
.sapphire-footer {
  padding: 10px 14px;
  border-top: 1px solid rgba(74, 106, 170, 0.28);
  background: linear-gradient(
      0deg,
      rgba(26, 38, 84, 0.22) 0%,
      rgba(26, 38, 84, 0.12) 100%
  );
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  color: #b8cced;
}

/* Pills / tags */
.sapphire-pill {
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 11px;
  line-height: 1;
  background: rgba(64, 120, 255, 0.16);
  border: 1px solid rgba(132, 176, 255, 0.36);
  color: #cfe3ff;
}

/* Lists */
.sapphire-list {
  display: grid;
  gap: 6px;
}
.sapphire-list-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  background: rgba(18, 26, 52, 0.26);
  border: 1px solid rgba(74, 106, 170, 0.22);
}
.sapphire-list-item:hover {
  background: rgba(40, 76, 160, 0.18);
  border-color: rgba(122, 166, 230, 0.44);
}

/* Scrollbars (modern minimal) */
.sapphire-window ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.sapphire-window ::-webkit-scrollbar-track {
  background: transparent;
}
.sapphire-window ::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(88, 132, 200, 0.5), rgba(52, 92, 168, 0.45));
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.sapphire-window ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(120, 164, 230, 0.6), rgba(76, 116, 192, 0.55));
}

/* Utility: hidden, spacer, etc. */
.sapphire-hidden { display: none !important; }
.sapphire-spacer { height: 8px; }

/* Light mode fallback (if ever used) */
@media (prefers-color-scheme: light) {
  .sapphire-window {
    background: linear-gradient(
        165deg,
        rgba(236, 244, 255, 0.7) 0%,
        rgba(224, 238, 255, 0.7) 60%,
        rgba(208, 230, 255, 0.7) 100%
    );
    border-color: rgba(80, 120, 190, 0.38);
    color: #0e1a32;
  }
  .sapphire-header {
    background: linear-gradient(180deg, rgba(160, 190, 255, 0.28), rgba(132, 168, 246, 0.18));
    border-bottom-color: rgba(80, 120, 190, 0.35);
  }
  .sapphire-title { color: #1e4da8; text-shadow: none; }
  .sapphire-section { background: rgba(240, 246, 255, 0.6); }
  .sapphire-row:hover { background: rgba(68, 120, 220, 0.08); }
  .sapphire-input, .sapphire-select {
    background: rgba(255, 255, 255, 0.7);
    color: #0e1a32;
  }
}

/* Animations (optional subtle) */
@keyframes sapphire-pop {
  from { transform: translateY(6px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}
.sapphire-window[data-animate="pop"] {
  animation: sapphire-pop 180ms cubic-bezier(0.18, 0.9, 0.2, 1) both;
}
